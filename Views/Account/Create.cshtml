<!-- jQuery'yi ekleyin -->
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

<!-- Sayfanızdaki form -->
@model CreateViewModel

<h1>Kullanıcı Oluştur</h1>

<form id="createUserForm" asp-action="Create" method="post">
    <div class="mb-3">
        <label>UserName</label>
        <input id="UserName" class="form-control">
    </div>

    <div class="mb-3">
        <label>FullName</label>
        <input id="FullName" class="form-control">
    </div>


    <div class="mb-3">
        <label>Email</label>
        <input id="Email" class="form-control">
    </div>

    <div class="mb-3">
        <label>Password</label>
        <input id="Password" class="form-control">
    </div>

    <div class="mb-3">
        <label>ConfirmPassword</label>
        <input id="ConfirmPassword" class="form-control" type="password">
    </div>

    <button type="button" id="submitBtn" class="btn btn-primary" onclick="submitForm()">Yeni Kullanıcı
        Kaydet</button>

    <!-- JavaScript kodu -->
    <script>
        function submitForm() {

            debugger;
            var model = {
                UserName: $('#UserName').val(),
                FullName: $('#FullName').val(),
                Email: $('#Email').val(),
                Password: $('#Password').val(),
                ConfirmPassword: $('#ConfirmPassword').val(),

                SelectedRoles: $('input[name="SelectedRoles"]:checked').map(function () {
                    return $(this).val();
                }).get()
            };

            $.ajax({
                url: '/Account/Create',
                type: 'POST',
                data: model,
                success: function (data) {
                    // Başarılı yanıt alındığında yapılacak işlemler
                    console.log(data);
                },
                error: function (error) {
                    // Hata durumunda yapılacak işlemler
                    console.log(error);
                }
            });
        }
    </script>
</form>